openapi: 3.1.0
info:
  title: openai-assistants-api
  description: >
    The OpenAI Assistants API allows you to build AI assistants within your own
    applications. 

    An Assistant has instructions and can leverage models, tools, and knowledge
    to respond to user queries. 

    The Assistants API currently supports three types of tools: Code
    Interpreter, Retrieval, and Function calling.
  version: 2.0.0
  termsOfService: https://openai.com/policies/terms-of-use
  contact:
    name: OpenAI Support
    url: https://help.openai.com/
  license:
    name: MIT
    url: https://github.com/openai/openai-openapi/blob/master/LICENSE
servers:
  - url: https://api.openai.com/v1
    description: OpenAI API Production Server
  - url: http://localhost:8080/rest/openai-assistants-api/2.0.0
    description: Sandbox
tags:
  - name: Assistants
    description: >-
      Create and manage AI assistants that can call models and use tools to
      perform tasks.
  - name: Assistant Files
    description: >-
      Manage files attached to assistants for use with retrieval and code
      interpreter tools.
paths:
  /assistants:
    get:
      operationId: listAssistants
      tags:
        - Assistants
      summary: List all assistants
      description: >-
        Returns a paginated list of assistants ordered by creation date.
        Supports cursor-based pagination using the after and before parameters.
      parameters:
        - name: limit
          in: query
          description: >-
            A limit on the number of objects to be returned. Limit can range
            between 1 and 100, and the default is 20.
          required: false
          schema:
            type: integer
            default: 20
            minimum: 1
            maximum: 100
        - name: order
          in: query
          description: >-
            Sort order by the created_at timestamp of the objects. Use asc for
            ascending order and desc for descending order.
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
        - name: after
          in: query
          description: >-
            A cursor for use in pagination. after is an object ID that defines
            your place in the list. For instance, if you make a list request and
            receive 100 objects, ending with obj_foo, your subsequent call can
            include after=obj_foo in order to fetch the next page of the list.
          schema:
            type: string
        - name: before
          in: query
          description: >-
            A cursor for use in pagination. before is an object ID that defines
            your place in the list. For instance, if you make a list request and
            receive 100 objects, ending with obj_foo, your subsequent call can
            include before=obj_foo in order to fetch the previous page of the
            list.
          schema:
            type: string
      responses:
        '200':
          description: A list of assistant objects
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListAssistantsResponse'
              examples:
                ListAssistantsResponseExample:
                  $ref: '#/components/examples/ListAssistantsResponseExample'
      x-microcks-operation:
        dispatcher: SCRIPT
        dispatcherRules: |
          return "ListAssistantsResponseExample"
    post:
      operationId: createAssistant
      tags:
        - Assistants
      summary: Create an assistant
      description: >-
        Create an assistant with a model and instructions. The assistant can be
        configured with tools like code interpreter, retrieval, and function
        calling.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAssistantRequest'
            examples:
              CreateAssistantRequestExample:
                $ref: '#/components/examples/CreateAssistantRequestExample'
      responses:
        '200':
          description: The created assistant object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantObject'
              examples:
                AssistantObjectExample:
                  $ref: '#/components/examples/AssistantObjectExample'
      x-microcks-operation:
        dispatcher: SCRIPT
        dispatcherRules: |
          return "AssistantObjectExample"
  /assistants/{assistant_id}:
    get:
      operationId: getAssistant
      tags:
        - Assistants
      summary: Retrieve an assistant
      description: Retrieves an assistant by its unique identifier.
      parameters:
        - in: path
          name: assistant_id
          required: true
          schema:
            type: string
          description: The ID of the assistant to retrieve.
      responses:
        '200':
          description: The assistant object matching the specified ID
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantObject'
              examples:
                AssistantObjectExample:
                  $ref: '#/components/examples/AssistantObjectExample'
      x-microcks-operation:
        dispatcher: SCRIPT
        dispatcherRules: |
          return "AssistantObjectExample"
    post:
      operationId: modifyAssistant
      tags:
        - Assistants
      summary: Modify an assistant
      description: >-
        Modifies an existing assistant's properties including name, description,
        instructions, tools, and file associations.
      parameters:
        - in: path
          name: assistant_id
          required: true
          schema:
            type: string
          description: The ID of the assistant to modify.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModifyAssistantRequest'
            examples:
              ModifyAssistantRequestExample:
                $ref: '#/components/examples/ModifyAssistantRequestExample'
      responses:
        '200':
          description: The modified assistant object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantObject'
              examples:
                ModifiedAssistantObjectExample:
                  $ref: '#/components/examples/ModifiedAssistantObjectExample'
      x-microcks-operation:
        dispatcher: SCRIPT
        dispatcherRules: |
          return "ModifiedAssistantObjectExample"
    delete:
      operationId: deleteAssistant
      tags:
        - Assistants
      summary: Delete an assistant
      description: Permanently deletes an assistant. This action cannot be undone.
      parameters:
        - in: path
          name: assistant_id
          required: true
          schema:
            type: string
          description: The ID of the assistant to delete.
      responses:
        '200':
          description: Confirmation of assistant deletion
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteAssistantResponse'
              examples:
                DeleteAssistantResponseExample:
                  $ref: '#/components/examples/DeleteAssistantResponseExample'
      x-microcks-operation:
        dispatcher: SCRIPT
        dispatcherRules: |
          return "DeleteAssistantResponseExample"
  /assistants/{assistant_id}/files:
    get:
      operationId: listAssistantFiles
      tags:
        - Assistant Files
      summary: List assistant files
      description: >-
        Returns a list of files attached to a specific assistant. These files
        can be used by the retrieval and code interpreter tools.
      parameters:
        - name: assistant_id
          in: path
          description: The ID of the assistant whose files to list.
          required: true
          schema:
            type: string
        - name: limit
          in: query
          description: >-
            A limit on the number of objects to be returned. Limit can range
            between 1 and 100, and the default is 20.
          required: false
          schema:
            type: integer
            default: 20
            minimum: 1
            maximum: 100
        - name: order
          in: query
          description: >-
            Sort order by the created_at timestamp of the objects. Use asc for
            ascending order and desc for descending order.
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
        - name: after
          in: query
          description: >-
            A cursor for use in pagination. after is an object ID that defines
            your place in the list.
          schema:
            type: string
        - name: before
          in: query
          description: >-
            A cursor for use in pagination. before is an object ID that defines
            your place in the list.
          schema:
            type: string
      responses:
        '200':
          description: A list of assistant file objects
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListAssistantFilesResponse'
              examples:
                ListAssistantFilesResponseExample:
                  $ref: '#/components/examples/ListAssistantFilesResponseExample'
      x-microcks-operation:
        dispatcher: SCRIPT
        dispatcherRules: |
          return "ListAssistantFilesResponseExample"
    post:
      operationId: createAssistantFile
      tags:
        - Assistant Files
      summary: Attach a file to an assistant
      description: >-
        Create an assistant file by attaching a previously uploaded file to an
        assistant. The file must have been uploaded with purpose assistants.
      parameters:
        - in: path
          name: assistant_id
          required: true
          schema:
            type: string
          description: The ID of the assistant to attach the file to.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAssistantFileRequest'
            examples:
              CreateAssistantFileRequestExample:
                $ref: '#/components/examples/CreateAssistantFileRequestExample'
      responses:
        '200':
          description: The created assistant file object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantFileObject'
              examples:
                AssistantFileObjectExample:
                  $ref: '#/components/examples/AssistantFileObjectExample'
      x-microcks-operation:
        dispatcher: SCRIPT
        dispatcherRules: |
          return "AssistantFileObjectExample"
  /assistants/{assistant_id}/files/{file_id}:
    get:
      operationId: getAssistantFile
      tags:
        - Assistant Files
      summary: Retrieve an assistant file
      description: Retrieves an assistant file by its unique identifier.
      parameters:
        - in: path
          name: assistant_id
          required: true
          schema:
            type: string
          description: The ID of the assistant the file belongs to.
        - in: path
          name: file_id
          required: true
          schema:
            type: string
          description: The ID of the file to retrieve.
      responses:
        '200':
          description: The assistant file object matching the specified ID
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantFileObject'
              examples:
                AssistantFileObjectExample:
                  $ref: '#/components/examples/AssistantFileObjectExample'
      x-microcks-operation:
        dispatcher: SCRIPT
        dispatcherRules: |
          return "AssistantFileObjectExample"
    delete:
      operationId: deleteAssistantFile
      tags:
        - Assistant Files
      summary: Delete an assistant file
      description: >-
        Deletes the association between the assistant and the file, but does not
        delete the underlying file object itself.
      parameters:
        - in: path
          name: assistant_id
          required: true
          schema:
            type: string
          description: The ID of the assistant the file belongs to.
        - in: path
          name: file_id
          required: true
          schema:
            type: string
          description: The ID of the file to delete from the assistant.
      responses:
        '200':
          description: Confirmation of assistant file deletion
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteAssistantFileResponse'
              examples:
                DeleteAssistantFileResponseExample:
                  $ref: '#/components/examples/DeleteAssistantFileResponseExample'
      x-microcks-operation:
        dispatcher: SCRIPT
        dispatcherRules: |
          return "DeleteAssistantFileResponseExample"
components:
  securitySchemes:
    ApiKeyAuth:
      type: http
      scheme: bearer
      bearerFormat: API Key
  schemas:
    AssistantObject:
      type: object
      title: Assistant
      description: Represents an assistant that can call the model and use tools.
      properties:
        id:
          type: string
          description: The identifier, which can be referenced in API endpoints.
        object:
          type: string
          description: The object type, which is always assistant.
          enum:
            - assistant
        created_at:
          type: integer
          description: The Unix timestamp (in seconds) for when the assistant was created.
        name:
          type: string
          maxLength: 256
          nullable: true
          description: The name of the assistant. The maximum length is 256 characters.
        description:
          type: string
          maxLength: 512
          nullable: true
          description: >-
            The description of the assistant. The maximum length is 512
            characters.
        model:
          type: string
          description: ID of the model to use.
        instructions:
          type: string
          maxLength: 32768
          nullable: true
          description: >-
            The system instructions that the assistant uses. The maximum length
            is 32768 characters.
        tools:
          type: array
          maxItems: 128
          default: []
          description: >-
            A list of tools enabled on the assistant. Can be code_interpreter,
            retrieval, or function.
          items:
            oneOf:
              - $ref: '#/components/schemas/AssistantToolsCode'
              - $ref: '#/components/schemas/AssistantToolsRetrieval'
              - $ref: '#/components/schemas/AssistantToolsFunction'
        file_ids:
          type: array
          maxItems: 20
          default: []
          description: A list of file IDs attached to this assistant.
          items:
            type: string
        metadata:
          type: object
          nullable: true
          description: Set of 16 key-value pairs that can be attached to an object.
      required:
        - id
        - object
        - created_at
        - name
        - description
        - model
        - instructions
        - tools
        - file_ids
        - metadata
    AssistantToolsCode:
      type: object
      title: Code Interpreter Tool
      description: Tool that enables the assistant to write and run Python code.
      properties:
        type:
          type: string
          description: The type of tool being defined.
          enum:
            - code_interpreter
      required:
        - type
    AssistantToolsRetrieval:
      type: object
      title: Retrieval Tool
      description: Tool that enables the assistant to access and search through files.
      properties:
        type:
          type: string
          description: The type of tool being defined.
          enum:
            - retrieval
      required:
        - type
    AssistantToolsFunction:
      type: object
      title: Function Tool
      description: Tool that enables the assistant to call custom functions.
      properties:
        type:
          type: string
          description: The type of tool being defined.
          enum:
            - function
        function:
          $ref: '#/components/schemas/FunctionObject'
      required:
        - type
        - function
    FunctionObject:
      type: object
      description: Represents a function that can be called by the assistant.
      properties:
        name:
          type: string
          description: The name of the function to be called.
        description:
          type: string
          description: A description of what the function does.
        parameters:
          $ref: '#/components/schemas/FunctionParameters'
      required:
        - name
    FunctionParameters:
      type: object
      description: The parameters the functions accepts, described as a JSON Schema object.
      additionalProperties: true
    CreateAssistantRequest:
      type: object
      additionalProperties: false
      description: Request body for creating an assistant.
      properties:
        model:
          type: string
          description: ID of the model to use.
        name:
          type: string
          nullable: true
          maxLength: 256
          description: The name of the assistant.
        description:
          type: string
          nullable: true
          maxLength: 512
          description: The description of the assistant.
        instructions:
          type: string
          nullable: true
          maxLength: 32768
          description: The system instructions that the assistant uses.
        tools:
          type: array
          default: []
          maxItems: 128
          description: A list of tools enabled on the assistant.
          items:
            oneOf:
              - $ref: '#/components/schemas/AssistantToolsCode'
              - $ref: '#/components/schemas/AssistantToolsRetrieval'
              - $ref: '#/components/schemas/AssistantToolsFunction'
        file_ids:
          type: array
          default: []
          maxItems: 20
          description: A list of file IDs to attach to the assistant.
          items:
            type: string
        metadata:
          type: object
          nullable: true
          description: Set of 16 key-value pairs that can be attached to an object.
      required:
        - model
    ModifyAssistantRequest:
      type: object
      additionalProperties: false
      description: Request body for modifying an assistant.
      properties:
        model:
          type: string
          description: ID of the model to use.
        name:
          type: string
          nullable: true
          maxLength: 256
          description: The name of the assistant.
        description:
          type: string
          nullable: true
          maxLength: 512
          description: The description of the assistant.
        instructions:
          type: string
          nullable: true
          maxLength: 32768
          description: The system instructions that the assistant uses.
        tools:
          type: array
          default: []
          maxItems: 128
          description: A list of tools enabled on the assistant.
          items:
            oneOf:
              - $ref: '#/components/schemas/AssistantToolsCode'
              - $ref: '#/components/schemas/AssistantToolsRetrieval'
              - $ref: '#/components/schemas/AssistantToolsFunction'
        file_ids:
          type: array
          default: []
          maxItems: 20
          description: A list of file IDs attached to the assistant.
          items:
            type: string
        metadata:
          type: object
          nullable: true
          description: Set of 16 key-value pairs that can be attached to an object.
    ListAssistantsResponse:
      type: object
      description: Response containing a list of assistants.
      properties:
        object:
          type: string
          enum:
            - list
        data:
          type: array
          items:
            $ref: '#/components/schemas/AssistantObject'
        first_id:
          type: string
        last_id:
          type: string
        has_more:
          type: boolean
      required:
        - object
        - data
        - first_id
        - last_id
        - has_more
    DeleteAssistantResponse:
      type: object
      description: Response confirming assistant deletion.
      properties:
        id:
          type: string
        deleted:
          type: boolean
        object:
          type: string
          enum:
            - assistant.deleted
      required:
        - id
        - object
        - deleted
    AssistantFileObject:
      type: object
      title: Assistant File
      description: Represents a file attached to an assistant.
      properties:
        id:
          type: string
          description: The identifier, which can be referenced in API endpoints.
        object:
          type: string
          description: The object type, which is always assistant.file.
          enum:
            - assistant.file
        created_at:
          type: integer
          description: >-
            The Unix timestamp (in seconds) for when the assistant file was
            created.
        assistant_id:
          type: string
          description: The assistant ID that the file is attached to.
      required:
        - id
        - object
        - created_at
        - assistant_id
    CreateAssistantFileRequest:
      type: object
      additionalProperties: false
      description: Request body for attaching a file to an assistant.
      properties:
        file_id:
          type: string
          description: A file ID (with purpose assistants) that the assistant should use.
      required:
        - file_id
    ListAssistantFilesResponse:
      type: object
      description: Response containing a list of assistant files.
      properties:
        object:
          type: string
          enum:
            - list
        data:
          type: array
          items:
            $ref: '#/components/schemas/AssistantFileObject'
        first_id:
          type: string
        last_id:
          type: string
        has_more:
          type: boolean
      required:
        - object
        - data
        - first_id
        - last_id
        - has_more
    DeleteAssistantFileResponse:
      type: object
      description: Response confirming assistant file deletion.
      properties:
        id:
          type: string
        deleted:
          type: boolean
        object:
          type: string
          enum:
            - assistant.file.deleted
      required:
        - id
        - object
        - deleted
  examples:
    ListAssistantsResponseExample:
      summary: Example list of assistants
      value:
        object: list
        data:
          - id: asst_abc123
            object: assistant
            created_at: 1698982736
            name: Coding Tutor
            description: null
            model: gpt-4
            instructions: You are a helpful assistant designed to make me better at coding!
            tools: []
            file_ids: []
            metadata: {}
          - id: asst_abc456
            object: assistant
            created_at: 1698982718
            name: My Assistant
            description: null
            model: gpt-4
            instructions: You are a helpful assistant designed to make me better at coding!
            tools: []
            file_ids: []
            metadata: {}
        first_id: asst_abc123
        last_id: asst_abc456
        has_more: false
    AssistantObjectExample:
      summary: Example assistant object
      value:
        id: asst_abc123
        object: assistant
        created_at: 1698984975
        name: Math Tutor
        description: null
        model: gpt-4
        instructions: >-
          You are a personal math tutor. When asked a question, write and run
          Python code to answer the question.
        tools:
          - type: code_interpreter
        file_ids: []
        metadata: {}
    CreateAssistantRequestExample:
      summary: Example create assistant request
      value:
        model: gpt-4
        name: Math Tutor
        instructions: >-
          You are a personal math tutor. When asked a question, write and run
          Python code to answer the question.
        tools:
          - type: code_interpreter
    ModifyAssistantRequestExample:
      summary: Example modify assistant request
      value:
        instructions: >-
          You are an HR bot, and you have access to files to answer employee
          questions about company policies. Always response with info from
          either of the files.
        tools:
          - type: retrieval
        model: gpt-4
        file_ids:
          - file-abc123
          - file-abc456
    ModifiedAssistantObjectExample:
      summary: Example modified assistant object
      value:
        id: asst_abc123
        object: assistant
        created_at: 1699009709
        name: HR Helper
        description: null
        model: gpt-4
        instructions: >-
          You are an HR bot, and you have access to files to answer employee
          questions about company policies. Always response with info from
          either of the files.
        tools:
          - type: retrieval
        file_ids:
          - file-abc123
          - file-abc456
        metadata: {}
    DeleteAssistantResponseExample:
      summary: Example delete assistant response
      value:
        id: asst_abc123
        object: assistant.deleted
        deleted: true
    ListAssistantFilesResponseExample:
      summary: Example list of assistant files
      value:
        object: list
        data:
          - id: file-abc123
            object: assistant.file
            created_at: 1699060412
            assistant_id: asst_abc123
          - id: file-abc456
            object: assistant.file
            created_at: 1699060412
            assistant_id: asst_abc123
        first_id: file-abc123
        last_id: file-abc456
        has_more: false
    AssistantFileObjectExample:
      summary: Example assistant file object
      value:
        id: file-abc123
        object: assistant.file
        created_at: 1699055364
        assistant_id: asst_abc123
    CreateAssistantFileRequestExample:
      summary: Example create assistant file request
      value:
        file_id: file-abc123
    DeleteAssistantFileResponseExample:
      summary: Example delete assistant file response
      value:
        id: file-abc123
        object: assistant.file.deleted
        deleted: true
security:
  - ApiKeyAuth: []
